<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Local Hydrological Balance — hb_local • erahumed</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Local Hydrological Balance — hb_local"><meta name="description" content="Simulates the local hydrological balance of a set of clusters of rice paddies
on a daily basis, under a set of ideal assumptions.
Prominently, paddies are assumed to be managed - i.e. irrigated and drained
in such a way to stick as closely as possible to an established yearly
ideal plan for draining and irrigation (with corresponding ideal water
levels), while satisfying the constraint imposed by the fact that the total
daily outflow from all clusters is fixed (and known by independent
measurements).


More details on the concrete algorithm used in the simulations can be found
at TODO #46.
For analyzing Albufera data, you should not need to directly run this
function, and you can instead use the albufera_hb_local wrapper, that
calls hb_local() with the right arguments, extracted from the built-in
datasets."><meta property="og:description" content="Simulates the local hydrological balance of a set of clusters of rice paddies
on a daily basis, under a set of ideal assumptions.
Prominently, paddies are assumed to be managed - i.e. irrigated and drained
in such a way to stick as closely as possible to an established yearly
ideal plan for draining and irrigation (with corresponding ideal water
levels), while satisfying the constraint imposed by the fact that the total
daily outflow from all clusters is fixed (and known by independent
measurements).


More details on the concrete algorithm used in the simulations can be found
at TODO #46.
For analyzing Albufera data, you should not need to directly run this
function, and you can instead use the albufera_hb_local wrapper, that
calls hb_local() with the right arguments, extracted from the built-in
datasets."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">erahumed</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/erahumed/erahumed/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Local Hydrological Balance</h1>
      <small class="dont-index">Source: <a href="https://github.com/erahumed/erahumed/blob/master/R/hb_local.R" class="external-link"><code>R/hb_local.R</code></a></small>
      <div class="d-none name"><code>hb_local.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates the local hydrological balance of a set of clusters of rice paddies
on a daily basis, under a set of ideal assumptions.</p>
<p>Prominently, paddies are assumed to be managed - <em>i.e.</em> irrigated and drained</p><ul><li><p>in such a way to stick as closely as possible to an established yearly
ideal plan for draining and irrigation (with corresponding ideal water
levels), while satisfying the constraint imposed by the fact that the total
daily outflow from all clusters is fixed (and known by independent
measurements).</p></li>
</ul><p>More details on the concrete algorithm used in the simulations can be found
at TODO #46.</p>
<p>For analyzing Albufera data, you should not need to directly run this
function, and you can instead use the <a href="albufera_hb_local.html">albufera_hb_local</a> wrapper, that
calls <code>hb_local()</code> with the right arguments, extracted from the built-in
datasets.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hb_local</span><span class="op">(</span></span>
<span>  <span class="va">date</span>,</span>
<span>  <span class="va">cluster_id</span>,</span>
<span>  <span class="va">ditch</span>,</span>
<span>  <span class="va">ideal_height_cm</span>,</span>
<span>  <span class="va">petp_cm</span>,</span>
<span>  <span class="va">ideal_irrigation</span>,</span>
<span>  <span class="va">ideal_draining</span>,</span>
<span>  <span class="va">area_m2</span>,</span>
<span>  <span class="va">total_inflow_lake</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  ideal_flow_rate_cm <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-date">date<a class="anchor" aria-label="anchor" href="#arg-date"></a></dt>
<dd><p>vector. Can be either a character, formatted as YYYY-MM-DD, or
a <code>Date</code> object.</p></dd>


<dt id="arg-cluster-id">cluster_id<a class="anchor" aria-label="anchor" href="#arg-cluster-id"></a></dt>
<dd><p>character vector.</p></dd>


<dt id="arg-ditch">ditch<a class="anchor" aria-label="anchor" href="#arg-ditch"></a></dt>
<dd><p>character vector. Ditch to which the cluster specified by
<code>cluster_id</code> corresponds.</p></dd>


<dt id="arg-ideal-height-cm">ideal_height_cm<a class="anchor" aria-label="anchor" href="#arg-ideal-height-cm"></a></dt>
<dd><p>numeric vector. Ideal height of the cluster specified
by <code>cluster_id</code>, on the day specified by <code>date</code>.</p></dd>


<dt id="arg-petp-cm">petp_cm<a class="anchor" aria-label="anchor" href="#arg-petp-cm"></a></dt>
<dd><p>numeric vector. Precipitation minus evapotranspiration
(in cm), relevant for the <code>cluster_id</code>/<code>date</code> pair.</p></dd>


<dt id="arg-ideal-irrigation">ideal_irrigation<a class="anchor" aria-label="anchor" href="#arg-ideal-irrigation"></a></dt>
<dd><p>logical. Irrigation plan for the cluster specified
by <code>cluster_id</code>, on the day specified by <code>date</code> (is this cluster supposed to
be irrigated on this day?).</p></dd>


<dt id="arg-ideal-draining">ideal_draining<a class="anchor" aria-label="anchor" href="#arg-ideal-draining"></a></dt>
<dd><p>logical. Draining plan for the cluster specified
by <code>cluster_id</code>, on the day specified by <code>date</code> (is this cluster supposed to
be drained on this day?).</p></dd>


<dt id="arg-area-m-">area_m2<a class="anchor" aria-label="anchor" href="#arg-area-m-"></a></dt>
<dd><p>numeric vector. Area of the cluster specified by <code>cluster_id</code>.</p></dd>


<dt id="arg-total-inflow-lake">total_inflow_lake<a class="anchor" aria-label="anchor" href="#arg-total-inflow-lake"></a></dt>
<dd><p>numeric vector. Total inflow of lake (or,
equivalently, total outflow of clusters) on the day specified by <code>date</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional columns to be appended in the returned data-frame. Each
of these additional (named) arguments should be a vector of the same length
implied by the previous arguments.</p></dd>


<dt id="arg-ideal-flow-rate-cm">ideal_flow_rate_cm<a class="anchor" aria-label="anchor" href="#arg-ideal-flow-rate-cm"></a></dt>
<dd><p>a positive number. Ideal inflow for days such
that <code>ideal_irrigation</code> and <code>ideal_draining</code> are both <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>hb_local</code>, a lightweight wrapper of <code>data.frame</code>
with a few additional visualization methods (most prominently
<a href="plot.hb_local.html">plot.hb_local</a>).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>All arguments of this function  should be conceptually thought as the columns
of a data-frame, each row of which corresponds to data for a given cluster
(specified by <code>cluster_id</code>) on a given day (specified by <code>date</code>). For this
reason, there should be a certain consistency among these vectors, which is
<strong>currently not being enforced</strong>, and left to the correct specification from
the side of the user. To name some examples: <code>ditch</code> should be consistent
among <code>cluster_id</code>; <code>petp_cm</code> should be consistent among <code>date</code>; <em>etc.etc.</em>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Valerio Gherardi, Pablo Amador.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

