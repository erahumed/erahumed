<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Setup parameters of ERAHUMED simulations — erahumed_parameters • erahumed</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setup parameters of ERAHUMED simulations — erahumed_parameters"><meta name="description" content="These functions are used to set up the input parameters of
ERAHUMED simulations."><meta property="og:description" content="These functions are used to set up the input parameters of
ERAHUMED simulations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">erahumed</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.15.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ct-diagram.html">Diagram of physical processes for chemical transport</a></li>
    <li><a class="dropdown-item" href="../articles/erahumed-workflow.html">Simulation workflow</a></li>
    <li><a class="dropdown-item" href="../articles/hydrology-scheme.html">Hydrological model of the Albufera Natural Park</a></li>
    <li><a class="dropdown-item" href="../articles/pipeline-scheme.html">Scheme of the simulation pipeline</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/erahumed/erahumed/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Setup parameters of ERAHUMED simulations</h1>
      <small class="dont-index">Source: <a href="https://github.com/erahumed/erahumed/blob/master/R/docs--setup-parameters.R" class="external-link"><code>R/docs--setup-parameters.R</code></a>, <a href="https://github.com/erahumed/erahumed/blob/master/R/meta--exposure.R" class="external-link"><code>R/meta--exposure.R</code></a>, <a href="https://github.com/erahumed/erahumed/blob/master/R/meta--hydrology.R" class="external-link"><code>R/meta--hydrology.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>erahumed_parameters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions are used to set up the input parameters of
ERAHUMED simulations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">setup_exposure</span><span class="op">(</span></span>
<span>  <span class="va">simulation</span>,</span>
<span>  ca_schedules_df <span class="op">=</span> <span class="fu">erahumed</span><span class="fu">::</span><span class="va"><a href="albufera_ca_schedules.html">albufera_ca_schedules</a></span>,</span>
<span>  drift <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  covmax <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  jgrow <span class="op">=</span> <span class="fl">152</span>,</span>
<span>  SNK <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  dact_m <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  css_ppm <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  foc <span class="op">=</span> <span class="fl">0.17</span>,</span>
<span>  bd_g_cm3 <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  qseep_m_day <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  wilting <span class="op">=</span> <span class="fl">0.24</span>,</span>
<span>  fc <span class="op">=</span> <span class="fl">0.35</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">setup_hydrology</span><span class="op">(</span></span>
<span>  <span class="va">simulation</span>,</span>
<span>  outflows_df <span class="op">=</span> <span class="fu">erahumed</span><span class="fu">::</span><span class="va"><a href="albufera_outflows.html">albufera_outflows</a></span>,</span>
<span>  weather_df <span class="op">=</span> <span class="fu">erahumed</span><span class="fu">::</span><span class="va"><a href="albufera_weather.html">albufera_weather</a></span>,</span>
<span>  variety_prop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>J.Sendra <span class="op">=</span> <span class="fl">0.8</span>, Bomba <span class="op">=</span> <span class="fl">0.1</span>, Clearfield <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  storage_curve <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">level</span><span class="op">)</span> <span class="fl">25.58</span> <span class="op">*</span> <span class="fl">1e+06</span> <span class="op">+</span> <span class="va">level</span> <span class="op">*</span> <span class="fl">63.086</span> <span class="op">*</span> <span class="fl">1e+06</span>,</span>
<span>  petp_function <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">p</span>, <span class="va">etp</span><span class="op">)</span> <span class="fl">53.9</span> <span class="op">*</span> <span class="fl">1000</span> <span class="op">*</span> <span class="op">(</span><span class="va">p</span> <span class="op">-</span> <span class="va">etp</span><span class="op">)</span>,</span>
<span>  management_df <span class="op">=</span> <span class="fu">erahumed</span><span class="fu">::</span><span class="va"><a href="albufera_management.html">albufera_management</a></span>,</span>
<span>  ideal_flow_rate_cm <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  height_thresh_cm <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  ditch_level_m <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">840</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">setup_risk</span><span class="op">(</span><span class="va">simulation</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-simulation">simulation<a class="anchor" aria-label="anchor" href="#arg-simulation"></a></dt>
<dd><p><code>[</code><a href="erahumed_simulation.html">erahumed_simulation</a><code>]</code> <br>
The simulation object being modified.</p></dd>


<dt id="arg-ca-schedules-df">ca_schedules_df<a class="anchor" aria-label="anchor" href="#arg-ca-schedules-df"></a></dt>
<dd><p><code>[data.frame]</code> <br> A dataset that provides the list of scheduled chemical applications, along the template of <a href="albufera_ca_schedules.html">albufera_ca_schedules</a>.</p></dd>


<dt id="arg-drift">drift<a class="anchor" aria-label="anchor" href="#arg-drift"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. Percentage of chemical applications lost to drift.</p></dd>


<dt id="arg-covmax">covmax<a class="anchor" aria-label="anchor" href="#arg-covmax"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. Interception potential of foliage at crop maturation.</p></dd>


<dt id="arg-jgrow">jgrow<a class="anchor" aria-label="anchor" href="#arg-jgrow"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive integer. Length (in days) of crop maturation cycle.</p></dd>


<dt id="arg-snk">SNK<a class="anchor" aria-label="anchor" href="#arg-snk"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. (TODO).</p></dd>


<dt id="arg-dact-m">dact_m<a class="anchor" aria-label="anchor" href="#arg-dact-m"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive number. Active sediment layer depth, expressed in meters.</p></dd>


<dt id="arg-css-ppm">css_ppm<a class="anchor" aria-label="anchor" href="#arg-css-ppm"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive number. Suspended sediment concentration, expressed in parts per million.</p></dd>


<dt id="arg-foc">foc<a class="anchor" aria-label="anchor" href="#arg-foc"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. Fraction of organic content.</p></dd>


<dt id="arg-bd-g-cm-">bd_g_cm3<a class="anchor" aria-label="anchor" href="#arg-bd-g-cm-"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive number. Bulk density of the sediment, expressed in grams per cubic centimeter.</p></dd>


<dt id="arg-qseep-m-day">qseep_m_day<a class="anchor" aria-label="anchor" href="#arg-qseep-m-day"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive number. Seepage rate, expressed in meters per day.</p></dd>


<dt id="arg-wilting">wilting<a class="anchor" aria-label="anchor" href="#arg-wilting"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. Wilting point.</p></dd>


<dt id="arg-fc">fc<a class="anchor" aria-label="anchor" href="#arg-fc"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A number between <code>0</code> and <code>1</code>. Field capacity.</p></dd>


<dt id="arg-outflows-df">outflows_df<a class="anchor" aria-label="anchor" href="#arg-outflows-df"></a></dt>
<dd><p><code>[data.frame]</code> <br> Time-series dataset that provides the observational hydrological data on the Albufera lake, along the template of <a href="albufera_outflows.html">albufera_outflows</a> (the default value).</p></dd>


<dt id="arg-weather-df">weather_df<a class="anchor" aria-label="anchor" href="#arg-weather-df"></a></dt>
<dd><p><code>[data.frame]</code> <br> A dataset that provides the relevant metereological time series, along the template of <a href="albufera_weather.html">albufera_weather</a> (the default value).</p></dd>


<dt id="arg-variety-prop">variety_prop<a class="anchor" aria-label="anchor" href="#arg-variety-prop"></a></dt>
<dd><p><code>[numeric(3)]</code> <br> Vector of <code>3</code> positive values. Controls the proportions of field surface allocated to the cultivation of the J. Sendra, Bomba, and Clearfield varieties, respectively (positive vectors that do not sum to one are allowed, with entries being understood as relative proportions).</p></dd>


<dt id="arg-storage-curve">storage_curve<a class="anchor" aria-label="anchor" href="#arg-storage-curve"></a></dt>
<dd><p><code>[function]</code> <br> A function that converts lake levels into lake <em>volumes</em>. The function should take a single numeric vector as input, and should return a numeric vector of the same length as output. The numeric values for the default (linear) storage curve are taken from the CHJ report <a href="https://www.chj.es/Descargas/ProyectosOPH/Consulta%20publica/PHC-2015-2021/ReferenciasBibliograficas/HumedalesZonasProtegidas/CHJ,2012.Aquatool_Albufera.pdf" class="external-link"><em>Modelo de seguimiento de l’Albufera de Valencia con AQUATOOLDMA</em></a>.</p></dd>


<dt id="arg-petp-function">petp_function<a class="anchor" aria-label="anchor" href="#arg-petp-function"></a></dt>
<dd><p><code>[function]</code> <br> A function that converts values of precipitation and evapotranspiration per unit area (assumed to be expressed in millimiters) into volume changes for the Albufera lake (in cube meters when the inputs are given in the expected units). This function should take two numeric vectors of common length as inputs (representing the precipitation and evapotranspiration time series, respectively), and should return a numeric vector of the same length. The numeric values used in the default (linear) function were computed by the package authors, and correspond to the total study area (consisting of the lake and irrigation ditches) and the flooded fraction, that are relevant for precipitation and evapotranspiration volume changes, respectively.</p></dd>


<dt id="arg-management-df">management_df<a class="anchor" aria-label="anchor" href="#arg-management-df"></a></dt>
<dd><p><code>[data.frame]</code> <br> Dataset that provides the yearly schedule for irrigation and draining, along the template of <a href="albufera_management.html">albufera_management</a> (the default value).</p></dd>


<dt id="arg-ideal-flow-rate-cm">ideal_flow_rate_cm<a class="anchor" aria-label="anchor" href="#arg-ideal-flow-rate-cm"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> Ideal inflow/outflow of a cluster, for days in which the cluster is scheduled to be in flux (<em>i.e.</em> when being simultaneously irrigated and drained). Expressed in centimeters per day.</p></dd>


<dt id="arg-height-thresh-cm">height_thresh_cm<a class="anchor" aria-label="anchor" href="#arg-height-thresh-cm"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> A positive number. Height threshold for water levels, below which a cluster is considered to be emptied.</p></dd>


<dt id="arg-ditch-level-m">ditch_level_m<a class="anchor" aria-label="anchor" href="#arg-ditch-level-m"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> Constant water depth in ditches.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> Seed for random number generation used by the simulation algorithms.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="erahumed_simulation.html">erahumed_simulation</a>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Valerio Gherardi, Pablo Amador.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

